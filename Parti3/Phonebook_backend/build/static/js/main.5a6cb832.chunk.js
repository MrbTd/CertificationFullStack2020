(this.webpackJsonpexo=this.webpackJsonpexo||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(1),u=t.n(c),i=t(15),a=t.n(i),o=t(6),l=t(3),s=t(4),d=t.n(s),j=function(e){var n=e.recupFilter;return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{children:["Filtrer: ",Object(r.jsx)("input",{onChange:n})]})})},f=function(e){var n=e.message;return null===n?null:Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"sucess",children:n})})},b=function(e){var n=e.error;return null===n?null:Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"error",children:n})})},h=function(e){var n=e.fctSend,t=e.recupName,c=e.recupNumber,u=e.vaName,i=e.valNum;e.myFunction;return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{onChange:t,value:u,placeholder:"enter a name of length >3"})]}),Object(r.jsxs)("div",{children:["number: ",Object(r.jsx)("input",{onChange:c,value:i,placeholder:"enter a num of length >8"})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"Add"})})]})})},v=function(e){var n=e.valeur,t=e.deleteClick;return Object(r.jsxs)("div",{children:[n.name," ",n.number,Object(r.jsx)("button",{onClick:t,children:"Delete"})]})},O="/api/persons",m=function(){return d.a.get(O).then((function(e){return e.data}))},x=function(e){return d.a.post(O,e).then((function(e){return e.data}))},p=function(e,n){return d.a.put(O+"/"+e,n).then((function(e){return e.data}))},g=function(e){return d.a.delete(O+"/"+e).then((function(e){return e.data}))},N=(t(39),function(){var e=Object(c.useState)(""),n=Object(l.a)(e,2),t=n[0],u=n[1],i=Object(c.useState)(""),a=Object(l.a)(i,2),s=a[0],d=a[1],O=Object(c.useState)([]),N=Object(l.a)(O,2),S=N[0],w=N[1],C=Object(c.useState)(null),k=Object(l.a)(C,2),y=k[0],I=k[1],F=Object(c.useState)(null),A=Object(l.a)(F,2),D=A[0],E=A[1],J=function(){m().then((function(e){w(e)}))};Object(c.useEffect)(J,[]);var M=Object(c.useState)(""),B=Object(l.a)(M,2),P=B[0],q=B[1],z=0===P.length?S:S.filter((function(e){return e.name.includes(P)}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(b,{error:D}),Object(r.jsx)(j,{recupFilter:function(e){q(e.target.value)}}),Object(r.jsx)(f,{message:y,error:D}),Object(r.jsx)("h3",{children:"Add a new"}),Object(r.jsx)(h,{fctSend:function(e){e.preventDefault();var n={name:t,number:s};if(""===t||""===s)alert("Champs vide");else if(""==z.filter((function(e){return e.name==t})))x(n).then((function(e){w(S.concat(e)),d(""),u(""),I("Added "+t),setInterval((function(){I(null)}),5e3)})).catch((function(e){console.log(e.response)}));else{var r=window.confirm("the name "+t+" Existing of the bd  do you went  Change the Number ???");console.log("r",r);var c=z.filter((function(e){return e.name===t}))[0].id;if(!0===r){var i=S.find((function(e){return e.id===c})),a=Object(o.a)(Object(o.a)({},i),{},{number:s});p(c,a).then((function(e){w(S.map((function(n){return n.id!==c?n:e}))),u(""),d(""),I("Modifid "+t),setInterval((function(){I(null)}),5e3)})).catch((function(e){E("Information of "+t+" has alrealy been removed from server"),w(S.filter((function(e){return e.id!==c}))),u(""),d(""),setInterval((function(){E(null)}),5e3)}))}}},recupName:function(e){u(e.target.value)},recupNumber:function(e){d(e.target.value)},vaName:t,valNum:s}),Object(r.jsx)("h3",{children:"Numbers"}),z.map((function(e){return Object(r.jsx)(v,{valeur:e,deleteClick:function(){var n;n=e.id,window.confirm("do you went deleted "+t)&&g(n).then((function(e){J(),I("Deleted "+t),setInterval((function(){I(null)}),5e3)})).catch()}},e.name)}))]})});a.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5a6cb832.chunk.js.map