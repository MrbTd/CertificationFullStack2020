{"version":3,"sources":["components/LoginForm.js","components/Blog.js","components/BlogForm.js","components/Notification.js","components/Togglable.js","services/blog.js","services/login.js","App.js","index.js"],"names":["LoginForm","_ref","onSubmit","username","password","handleUsernameChange","handlePasswordChange","react_default","a","createElement","type","value","onChange","Blog","blog","handleRemove","handleUpdate","showRemoveButton","_useState","useState","_useState2","Object","slicedToArray","visible","setVisible","showWhenVisible","display","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","onClick","title","author","href","url","likes","user","name","BlogForm","handleTitleChange","handleAuthorChange","handleUrlChange","Notification","message","Togglable","React","forwardRef","props","ref","hideWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","token","services_blog","setToken","newToken","concat","unsetToken","getAll","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","apply","this","arguments","create","_ref2","_callee2","newObject","config","_context2","headers","Authorization","post","_x","update","_ref3","_callee3","_context3","put","id","_x2","remove","_ref4","_callee4","_context4","delete","_x3","services_login","login","credentials","App","blogs","setBlogs","_useState3","_useState4","setTitle","_useState5","_useState6","setAuthor","_useState7","_useState8","setUrl","_useState9","_useState10","setUsername","_useState11","_useState12","setPassword","_useState13","_useState14","setUser","_useState15","_useState16","notificationMessage","setNotificationMessage","_useState17","_useState18","errorMessage","setErrorMessage","useEffect","_fetchData","initialBlogs","sortedBlogs","blogService","sort","b","fetchData","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","event","_user2","preventDefault","loginService","setItem","stringify","t0","error","setTimeout","addBlog","blogObject","returnedBlog","removeBlog","confirm","filter","updateBlog","_callee5","updated","updatedBlogs","_context5","_x4","blogFormRef","createRef","components_Notification","components_LoginForm","_ref8","target","_ref9","removeItem","components_Togglable","components_BlogForm","_ref5","_ref6","_ref7","map","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fbba5b5e.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst LoginForm = ({\n  onSubmit,\n  username,\n  password,\n  handleUsernameChange,\n  handlePasswordChange\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      username\n      <input\n        type=\"text\"\n        value={username}\n        onChange={handleUsernameChange} />\n    </div>\n    <div>\n      password\n      <input\n        type=\"password\"\n        value={password}\n        onChange={handlePasswordChange}\n      />\n    </div>\n    <button type=\"submit\">login</button>\n  </form>\n);\n\nLoginForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst Blog = ({\n  blog,\n  handleRemove,\n  handleUpdate,\n  showRemoveButton\n}) => {\n  const [visible, setVisible] = useState(false);\n\n  const showWhenVisible = { display: visible ? '' : 'none' };\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n\n  return (\n    <div style={blogStyle}>\n      <div className='blog' onClick={() => setVisible(!visible)}>\n        {blog.title} - {blog.author}\n        <div className='info' style={showWhenVisible}>\n          <a href={blog.url}>{blog.url}</a>\n          <br />\n          {blog.likes} likes\n          <button onClick={handleUpdate}>like</button>\n          <br />\n          added by {blog.user.name}\n          <br />\n          {showRemoveButton && <button onClick={handleRemove}>remove</button>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nBlog.propTypes = {\n  blog: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    author: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    user: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      username: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n    }),\n  }),\n  handleRemove: PropTypes.func.isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n  showRemoveButton: PropTypes.bool.isRequired,\n};\n\nexport default Blog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst BlogForm = ({\n  onSubmit,\n  title,\n  author,\n  url,\n  handleTitleChange,\n  handleAuthorChange,\n  handleUrlChange\n}) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      title\n      <input\n        type=\"text\"\n        value={title}\n        onChange={handleTitleChange}\n      />\n    </div>\n    <div>\n      author\n      <input\n        type=\"text\"\n        value={author}\n        onChange={handleAuthorChange}\n      />\n    </div>\n    <div>\n      url\n      <input\n        type=\"text\"\n        value={url}\n        onChange={handleUrlChange}\n      />\n    </div>\n    <button type=\"submit\">create</button>\n  </form>\n);\n\nBlogForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n  handleAuthorChange: PropTypes.func.isRequired,\n  handleUrlChange: PropTypes.func.isRequired,\n};\n\nexport default BlogForm;\n","import React from 'react';\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null;\n  }\n  if (type === 'error') {\n    return (\n      <div className='Notification Notification--error'>\n        { message }\n      </div>\n    );\n  }\n\n  return (\n    <div className='Notification'>\n      { message }\n    </div>\n  );\n}\n\nexport default Notification;\n","import React, { useState, useImperativeHandle } from 'react';\nimport PropTypes from 'prop-types';\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false);\n\n  const hideWhenVisible = { display: visible ? 'none' : '' };\n  const showWhenVisible = { display: visible ? '' : 'none' };\n\n  const toggleVisibility = () => setVisible(!visible);\n\n  useImperativeHandle(ref, () => {\n    return (\n      toggleVisibility\n    )\n  });\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  );\n});\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired,\n};\n\nexport default Togglable;\n","import axios from 'axios';\nconst baseUrl = '/api/blogs';\n\n// eslint-disable-next-line no-unused-vars\nlet token = null;\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`;\n};\n\nconst unsetToken = () => {\n  token = null;\n};\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { Authorization: token }\n  };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = async (data) => {\n  const config = {\n    headers: { Authorization: token }\n  };\n  const response = await axios.put(\n    `${baseUrl}/${data.id}`,\n    data,\n    config,\n  );\n  return response.data;\n};\n\nconst remove = async (id) => {\n  const config = {\n    headers: { Authorization: token }\n  };\n  const response = await axios.delete(\n    `${baseUrl}/${id}`,\n    config,\n  );\n  return response.data;\n}\n\nexport default {\n  setToken,\n  unsetToken,\n  getAll,\n  create,\n  update,\n  remove,\n};\n","import axios from 'axios';\nconst baseUrl = '/api/login';\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n}\n\nexport default { login };\n","import React, { useState, useEffect } from 'react';\n\nimport LoginForm from './components/LoginForm';\nimport Blog from './components/Blog';\nimport BlogForm from './components/BlogForm';\nimport Notification from './components/Notification';\nimport Togglable from './components/Togglable';\nimport blogService from './services/blog';\nimport loginService from './services/login';\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setUrl] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  // State changes\n  useEffect(() => {\n    async function fetchData() {\n      const initialBlogs = await blogService.getAll();\n      const sortedBlogs = initialBlogs.sort((a, b) => b.likes - a.likes);\n      setBlogs(sortedBlogs);\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedUser');\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n      blogService.setToken(user.token);\n    }\n  }, []);\n\n  // Component Methods\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n\n      window.localStorage.setItem('loggedUser', JSON.stringify(user));\n      blogService.setToken(user.token);\n      setUser(user);\n      setUsername('');\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage(exception.response.data.error);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleLogout = (event) => {\n    event.preventDefault();\n    window.localStorage.removeItem('loggedUser');\n    blogService.unsetToken();\n    setUser(null);\n  }\n\n  const addBlog = async (event) => {\n    event.preventDefault();\n    const blogObject = {\n      title,\n      author,\n      url\n    };\n\n    const returnedBlog = await blogService.create(blogObject);\n    returnedBlog.user = {\n      name: user.name,\n    };\n    setBlogs(blogs.concat(returnedBlog));\n    setTitle('');\n    setAuthor('');\n    setUrl('');\n    setNotificationMessage(\n      `A new blog ${returnedBlog.title} by ${returnedBlog.author} added`\n    );\n    setTimeout(() => {\n      setNotificationMessage(null);\n    }, 2000);\n  };\n\n  const removeBlog = async (blog) => {\n    const option = window.confirm(`remove ${blog.title} by ${blog.author}`);\n    if (option) {\n      await blogService.remove(blog.id);\n    }\n    setBlogs(blogs.filter(b => b.id !== blog.id));\n  }\n\n  const updateBlog = async blog => {\n    const updated = await blogService.update(blog);\n    const updatedBlogs = blogs\n      .filter(b => b.id !== blog.id)\n      .concat(updated)\n      .sort((a, b) => b.likes - a.likes);\n\n    setBlogs(updatedBlogs);\n  };\n\n  const blogFormRef = React.createRef();\n  const blogForm = () => (\n    <Togglable buttonLabel=\"new blog\" ref={blogFormRef}>\n      <h2>create new</h2>\n      <BlogForm\n        onSubmit={addBlog}\n        title={title}\n        author={author}\n        url={url}\n        handleTitleChange={({ target }) => setTitle(target.value)}\n        handleAuthorChange={({ target }) => setAuthor(target.value)}\n        handleUrlChange={({ target }) => setUrl(target.value)}\n      />\n    </Togglable>\n  );\n\n  // Render\n  if (user === null) {\n    return (\n      <div>\n        <h2>log in to application</h2>\n        <Notification message={notificationMessage} />\n        <Notification type={'error'} message={errorMessage} />\n        <LoginForm\n          onSubmit={handleLogin}\n          username={username}\n          password={password}\n          handleUsernameChange={({ target }) => setUsername(target.value)}\n          handlePasswordChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h2>blogs</h2>\n      <Notification message={notificationMessage} />\n      <Notification type={'error'} message={errorMessage} />\n      <p>\n        {user.name} logged in.\n        <button onClick={handleLogout}>logout</button>\n      </p>\n      {blogForm()}\n      {blogs.map(blog => (\n        <Blog\n          key={blog.id}\n          blog={blog}\n          handleUpdate={() => updateBlog(blog)}\n          handleRemove={() => removeBlog(blog)}\n          showRemoveButton={blog.user.name === user.name}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}