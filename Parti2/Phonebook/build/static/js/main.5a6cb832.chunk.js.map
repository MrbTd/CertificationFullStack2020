{"version":3,"sources":["Components/Filter.js","Components/Notification.js","Components/Erro.js","Components/PersonForm.js","Components/Persons.js","Services/ReqCont.js","App.js","index.js"],"names":["Filter","recupFilter","onChange","Notification","message","className","Erro","error","PersonForm","fctSend","recupName","recupNumber","vaName","valNum","myFunction","onSubmit","value","placeholder","type","Persons","valeur","deleteClick","name","number","onClick","urlBase","axios","get","then","result","data","newObject","post","response","id","myObj","put","delete","App","useState","newName","setNewName","newNum","setNewNum","persons","setPersons","suces","setSuces","setError","effet","service","useEffect","filte","setFilte","ListFilter","length","filter","val","includes","event","target","preventDefault","myObject","alert","concat","setInterval","catch","console","log","r","window","confirm","idput","objRech","find","objModif","map","n","res","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a6cb832.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nconst Filter = ({recupFilter}) => {\r\n   \r\n    return(\r\n    <div>\r\n       \r\n       <div> \r\n           Filtrer: <input onChange={recupFilter}/> \r\n        </div>\r\n            \r\n    </div>\r\n    )\r\n}\r\nexport default Filter\r\n","import React, { useState } from 'react'\r\nconst Notification = ({message}) => {\r\n   if(message=== null )\r\n   {\r\n       return null\r\n   }\r\n    return(\r\n    <div>\r\n       \r\n       <div className=\"sucess\"> \r\n            {message}\r\n        </div>\r\n        \r\n            \r\n    </div>\r\n    )\r\n}\r\nexport default Notification\r\n","import React, { useState } from 'react'\r\nconst Erro = ({error}) => {\r\n   if(error===null)\r\n   {\r\n       return null\r\n   }\r\n    return(\r\n    <div>\r\n   \r\n        <div className=\"error\"> \r\n            {error}\r\n        </div>\r\n            \r\n    </div>\r\n    )\r\n}\r\nexport default Erro\r\n","import React, { useState } from 'react'\r\nconst PersonForm = ({fctSend,recupName,recupNumber,vaName,valNum,myFunction}) => {\r\n    \r\n    return(\r\n    <div>\r\n        <form onSubmit={fctSend}>\r\n            <div>name: <input  onChange={recupName} value={vaName} placeholder=\"enter a name of length >3\"/></div>\r\n            <div>number: <input onChange={recupNumber} value={valNum} placeholder=\"enter a num of length >8\"/></div>\r\n            <div><button type=\"submit\" >Add</button></div>\r\n      </form>\r\n    </div>\r\n    )\r\n}\r\nexport default PersonForm\r\n","import React, { useState } from 'react'\r\nconst Persons = ({valeur,deleteClick}) => {\r\n   \r\n    return(\r\n    <div>\r\n       {valeur.name} {valeur.number}\r\n       <button onClick={deleteClick}>Delete</button>\r\n    </div>\r\n    )\r\n}\r\nexport default Persons\r\n","import React, { useState } from 'react'\r\nimport axios from \"axios\";\r\n\r\nconst urlBase='/api/persons'\r\n\r\nconst getAll=()=>{\r\n    const promis=axios.get(urlBase)\r\n    return promis.then(result=> result.data)\r\n}\r\n\r\n\r\nconst postAll=newObject=>{\r\n    const request = axios.post(urlBase, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\n\r\nconst putAlone=(id,myObj)=>{\r\n    const promis=axios.put(urlBase+'/'+id,myObj)\r\n    return promis.then(result=>result.data)\r\n}\r\n\r\nconst deleteAlone=(id)=>{\r\n    const promis=axios.delete(urlBase+'/'+id)\r\n    return promis.then(result=>result.data)\r\n}\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    postAll,\r\n    putAlone,\r\n    deleteAlone\r\n}","import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport Filter from './Components/Filter'\nimport Notification from './Components/Notification'\nimport Erro from './Components/Erro'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport service from './Services/ReqCont'\nimport index from './index.css'\n\n \nconst App = () => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [persons, setPersons] = useState([])\n  const [suces,setSuces]=useState(null)\n  const [error,setError]=useState(null)\n \n  const effet=() => {\n    service\n      .getAll()\n      .then(response => {\n        setPersons(response)\n       \n      })\n  }\n  \n  useEffect(effet, [])\n\n  const [filte, setFilte] = useState('')\n  const ListFilter=(filte.length===0 ? persons : persons.filter(val=> val.name.includes(filte)))\n\n  const fctSend=(event)=>{\n    event.preventDefault()\n    const myObject={\n      name:newName,\n      number:newNum\n\n    }\n   \n    if(newName=== '' || newNum=== '')\n    {\n      alert('Champs vide')\n    }\n\n    else{\n      if(ListFilter.filter(val=>val.name==newName)==''){\n             \n          service\n          .postAll(myObject)\n          .then(response=>{setPersons(persons.concat(response))\n              setNewNum('')\n              setNewName('')\n              setSuces(\"Added \"+newName) \n              setInterval(()=>{setSuces(null)},5000) \n          })\n          .catch(error => {\n            \n            console.log(error.response)\n          })\n               \n      }\n      else{\n      \n        const r=window.confirm(\"the name \"+newName+ \" Existing of the bd  do you went  Change the Number ???\")\n        console.log('r',r)\n        const idput=  ListFilter.filter(val=>val.name===newName)[0].id\n        \n         if(r===true){\n          const objRech= persons.find(val=>val.id===idput)\n          const objModif={ ...objRech, number: newNum}\n          service\n            .putAlone(idput,objModif)\n              .then(result => {\n                setPersons(persons.map(val => val.id !== idput ? val : result))\n                setNewName('')\n                setNewNum('')\n                setSuces(\"Modifid \"+newName) \n                setInterval(()=>{setSuces(null)},5000) \n \n              })\n              .catch(error => {\n                setError(\"Information of \"+newName+\" has alrealy been removed from server\")\n                setPersons(persons.filter(n => n.id !== idput))\n                setNewName('')\n                setNewNum('')\n                setInterval(()=>{setError(null)},5000) \n\n              })\n              \n        }\n      }\n   \n     } \n  }\n  \n\n  const handleDeleteClick=(id)=>{\n    const r= window.confirm(\"do you went deleted \"+newName)\n    if(r){\n      service\n    .deleteAlone(id)\n    .then(res =>{effet()\n      setSuces(\"Deleted \"+newName) \n      setInterval(()=>{setSuces(null)},5000) \n    })\n    .catch()\n  }\n    \n  }\n\n  const recupNumber=(event)=>{\n    setNewNum(event.target.value)\n  }\n\n  const recupName=(event)=>{\n    setNewName(event.target.value)\n  }\n  const recupFilter=(event)=>{\n    setFilte(event.target.value)\n  }\n\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Erro error={error}/>\n      <Filter  recupFilter={recupFilter}/>\n      <Notification message={suces} error={error}/>\n      <h3>Add a new</h3>\n\n      <PersonForm \n        fctSend={fctSend}\n        recupName={recupName}\n        recupNumber={recupNumber}\n        vaName={newName}\n        valNum={newNum}\n      />\n\n      <h3>Numbers</h3>\n      \n      {ListFilter.map(val=><Persons key={val.name} valeur={val} deleteClick={()=>{handleDeleteClick(val.id)}}/>)}\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}